<h2 class="mb-4 text-center">ğŸ› ï¸ è¨­å‚™ç‹€æ…‹æ›´æ–°</h2>

<% if (machines.length === 0) { %>
  <p class="text-center text-danger">ç›®å‰æ²’æœ‰å¯é¸æ“‡çš„è¨­å‚™ï¼Œè«‹å…ˆæ–°å¢è¨­å‚™ã€‚</p>
<% } else { %>
  <form action="/dashboard/status" method="POST" class="mx-auto" style="max-width: 500px;" id="statusForm">
    <div class="mb-3">
      <label for="m_id" class="form-label">é¸æ“‡è¨­å‚™</label>
      <select class="form-select" id="m_id" name="m_id" required>
        <% machines.forEach(machine => { %>
          <option value="<%= machine.m_id %>"><%= machine.m_id %> - <%= machine.m_name %></option>
        <% }) %>
      </select>
    </div>

    <div class="mb-3">
      <label for="m_status" class="form-label">ç‹€æ…‹</label>
      <select class="form-select" id="m_status" name="m_status" required>
        <option value="æ­£å¸¸" selected>æ­£å¸¸</option>
        <option value="æ•…éšœå¾…ä¿®">æ•…éšœå¾…ä¿®</option>
        <option value="åœç”¨">åœç”¨</option>
        <option value="å ±å»¢">å ±å»¢</option>
      </select>
    </div>

    <button type="submit" class="btn btn-primary w-100" id="submitBtn">æ›´æ–°ç‹€æ…‹</button>
  </form>
<% } %>

<script>
  // é˜²æ­¢é‡è¤‡æäº¤
  document.getElementById('statusForm')?.addEventListener('submit', function(e) {
    const submitBtn = document.getElementById('submitBtn');
    submitBtn.disabled = true;
    submitBtn.textContent = 'é€å‡ºä¸­...';
  });
</script>
